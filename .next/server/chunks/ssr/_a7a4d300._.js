module.exports=[46893,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(97895);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("textarea",{className:(0,d.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:e,...c}));e.displayName="Textarea",a.s(["Textarea",()=>e])},24569,a=>{"use strict";let b=(0,a.i(70106).default)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);a.s(["Edit",()=>b],24569)},81560,a=>{"use strict";let b=(0,a.i(70106).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);a.s(["Trash2",()=>b],81560)},19966,92e3,97063,a=>{"use strict";var b=a.i(87924);function c({size:a="md",text:c=""}){return(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center gap-3",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("div",{className:`${{sm:"w-4 h-4 border-2",md:"w-8 h-8 border-3",lg:"w-12 h-12 border-4",xl:"w-16 h-16 border-4"}[a]} rounded-full border-primary border-t-transparent animate-spin`}),(0,b.jsx)("div",{className:"absolute inset-0 flex items-center justify-center text-primary",children:""})]}),c&&(0,b.jsx)("p",{className:`${{sm:"text-sm",md:"text-base",lg:"text-lg",xl:"text-xl"}[a]} text-muted-foreground font-medium`,children:c})]})}function d({text:a="Cargando..."}){return(0,b.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,b.jsx)(c,{size:"lg",text:a})})}a.s(["LoadingPage",()=>d],19966);var e=a.i(70106);let f=(0,e.default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);a.s(["AlertCircle",()=>f],92e3);let g=(0,e.default)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);a.s(["Info",()=>g],97063)},73570,a=>{"use strict";let b=(0,a.i(70106).default)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);a.s(["AlertTriangle",()=>b],73570)},1484,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(33508),e=a.i(16201),f=a.i(92e3),g=a.i(97063),h=a.i(73570);function i({type:a="info",message:i,onClose:j,duration:k=5e3}){let[l,m]=(0,c.useState)(!0),[n,o]=(0,c.useState)(!1);(0,c.useEffect)(()=>{if(k>0){let a=setTimeout(()=>{p()},k);return()=>clearTimeout(a)}},[k]);let p=()=>{o(!0),setTimeout(()=>{m(!1),j?.()},300)};if(!l)return null;let{icon:q,bgColor:r,borderColor:s,textColor:t,iconColor:u}={success:{icon:e.CheckCircle,bgColor:"bg-green-50 dark:bg-green-950",borderColor:"border-green-200 dark:border-green-800",textColor:"text-green-800 dark:text-green-200",iconColor:"text-green-600 dark:text-green-400"},error:{icon:f.AlertCircle,bgColor:"bg-red-50 dark:bg-red-950",borderColor:"border-red-200 dark:border-red-800",textColor:"text-red-800 dark:text-red-200",iconColor:"text-red-600 dark:text-red-400"},warning:{icon:h.AlertTriangle,bgColor:"bg-yellow-50 dark:bg-yellow-950",borderColor:"border-yellow-200 dark:border-yellow-800",textColor:"text-yellow-800 dark:text-yellow-200",iconColor:"text-yellow-600 dark:text-yellow-400"},info:{icon:g.Info,bgColor:"bg-blue-50 dark:bg-blue-950",borderColor:"border-blue-200 dark:border-blue-800",textColor:"text-blue-800 dark:text-blue-200",iconColor:"text-blue-600 dark:text-blue-400"}}[a];return(0,b.jsx)("div",{className:`fixed top-4 right-4 z-50 max-w-md w-full transition-all duration-300 ${n?"animate-fade-out-right":"animate-fade-in-right"}`,children:(0,b.jsxs)("div",{className:`${r} ${s} ${t} border-l-4 p-4 rounded-lg shadow-lg flex items-start gap-3`,children:[(0,b.jsx)(q,{className:`${u} w-5 h-5 mt-0.5 flex-shrink-0`}),(0,b.jsx)("p",{className:"flex-1 text-sm font-medium leading-relaxed",children:i}),(0,b.jsx)("button",{onClick:p,className:`${t} hover:opacity-70 transition-opacity flex-shrink-0`,children:(0,b.jsx)(d.X,{className:"w-4 h-4"})})]})})}function j(){let[a,d]=(0,c.useState)([]),e=(a,b,c=5e3)=>{let e=Date.now();d(d=>[...d,{id:e,type:a,message:b,duration:c}])};return{showSuccess:(a,b)=>e("success",a,b),showError:(a,b)=>e("error",a,b),showWarning:(a,b)=>e("warning",a,b),showInfo:(a,b)=>e("info",a,b),AlertContainer:()=>(0,b.jsx)(b.Fragment,{children:a.map((a,c)=>(0,b.jsx)("div",{style:{top:`${4+5.5*c}rem`},children:(0,b.jsx)(i,{type:a.type,message:a.message,duration:a.duration,onClose:()=>{var b;return b=a.id,void d(a=>a.filter(a=>a.id!==b))}})},a.id))})}}a.s(["useAlertToast",()=>j])},3130,a=>{"use strict";var b=a.i(87924),c=a.i(97895);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...d})}function f({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-title",className:(0,c.cn)("leading-none font-semibold",a),...d})}function g({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-description",className:(0,c.cn)("text-muted-foreground text-sm",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-6",a),...d})}function i({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-footer",className:(0,c.cn)("flex items-center px-6 [.border-t]:pt-6",a),...d})}a.s(["Card",()=>d,"CardContent",()=>h,"CardDescription",()=>g,"CardFooter",()=>i,"CardHeader",()=>e,"CardTitle",()=>f])},17171,a=>{"use strict";var b=a.i(87924),c=a.i(72131);function d(a,b){if("function"==typeof a)return a(b);null!=a&&(a.current=b)}a.i(35112);var e=Symbol.for("react.lazy"),f=c[" use ".trim().toString()];function g(a){var b;return null!=a&&"object"==typeof a&&"$$typeof"in a&&a.$$typeof===e&&"_payload"in a&&"object"==typeof(b=a._payload)&&null!==b&&"then"in b}var h=Symbol("radix.slottable");function i(a){return c.isValidElement(a)&&"function"==typeof a.type&&"__radixId"in a.type&&a.type.__radixId===h}var j=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((a,e)=>{var h,j;let k,l,m,n=(j=h=`Primitive.${e}`,(k=c.forwardRef((a,b)=>{let{children:e,...h}=a;if(g(e)&&"function"==typeof f&&(e=f(e._payload)),c.isValidElement(e)){var i;let a,f,g=(i=e,(f=(a=Object.getOwnPropertyDescriptor(i.props,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?i.ref:(f=(a=Object.getOwnPropertyDescriptor(i,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?i.props.ref:i.props.ref||i.ref),j=function(a,b){let c={...b};for(let d in b){let e=a[d],f=b[d];/^on[A-Z]/.test(d)?e&&f?c[d]=(...a)=>{let b=f(...a);return e(...a),b}:e&&(c[d]=e):"style"===d?c[d]={...e,...f}:"className"===d&&(c[d]=[e,f].filter(Boolean).join(" "))}return{...a,...c}}(h,e.props);return e.type!==c.Fragment&&(j.ref=b?function(...a){return b=>{let c=!1,e=a.map(a=>{let e=d(a,b);return c||"function"!=typeof e||(c=!0),e});if(c)return()=>{for(let b=0;b<e.length;b++){let c=e[b];"function"==typeof c?c():d(a[b],null)}}}}(b,g):g),c.cloneElement(e,j)}return c.Children.count(e)>1?c.Children.only(null):null})).displayName=`${j}.SlotClone`,l=k,(m=c.forwardRef((a,d)=>{let{children:e,...h}=a;g(e)&&"function"==typeof f&&(e=f(e._payload));let j=c.Children.toArray(e),k=j.find(i);if(k){let a=k.props.children,e=j.map(b=>b!==k?b:c.Children.count(a)>1?c.Children.only(null):c.isValidElement(a)?a.props.children:null);return(0,b.jsx)(l,{...h,ref:d,children:c.isValidElement(a)?c.cloneElement(a,void 0,e):null})}return(0,b.jsx)(l,{...h,ref:d,children:e})})).displayName=`${h}.Slot`,m),o=c.forwardRef((a,c)=>{let{asChild:d,...f}=a;return(0,b.jsx)(d?n:e,{...f,ref:c})});return o.displayName=`Primitive.${e}`,{...a,[e]:o}},{}),k=c.forwardRef((a,c)=>(0,b.jsx)(j.label,{...a,ref:c,onMouseDown:b=>{b.target.closest("button, input, select, textarea")||(a.onMouseDown?.(b),!b.defaultPrevented&&b.detail>1&&b.preventDefault())}}));k.displayName="Label";var l=a.i(187),m=a.i(97895);let n=(0,l.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)(k,{ref:d,className:(0,m.cn)(n(),a),...c}));o.displayName=k.displayName,a.s(["Label",()=>o],17171)},16201,a=>{"use strict";let b=(0,a.i(70106).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);a.s(["CheckCircle",()=>b],16201)},15618,a=>{"use strict";let b=(0,a.i(70106).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],15618)},91074,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(15618),e=a.i(24569),f=a.i(81560),g=a.i(67900),h=a.i(40695),i=a.i(3130),j=a.i(65733),k=a.i(17171),l=a.i(5522),m=a.i(46893),n=a.i(3183),o=a.i(19966),p=a.i(1484);function q(){let{user:a,selectedClinic:q,selectClinic:r,getUserId:s}=(0,n.useAuth)(),{showSuccess:t,showError:u,showWarning:v,AlertContainer:w}=(0,p.useAlertToast)(),[x,y]=(0,c.useState)([]),[z,A]=(0,c.useState)(!0),[B,C]=(0,c.useState)(!1),[D,E]=(0,c.useState)(null),[F,G]=(0,c.useState)({name:"",address:"",phone:"",email:"",city:"",state:"",postalCode:"",description:""});(0,c.useEffect)(()=>{s()&&H()},[s]);let H=async()=>{try{A(!0);let a=s(),b=await fetch(`/api/clinics?userId=${a}`),c=await b.json();c.success?y(c.data):u(c.error||"Error al cargar consultorios")}catch(a){console.error("Error fetching clinics:",a),u("Error al cargar los consultorios")}finally{A(!1)}},I=()=>{E(null),G({name:"",address:"",phone:"",email:"",city:"",state:"",postalCode:"",description:""}),C(!0)},J=async a=>{if(confirm("驴Est谩s seguro de eliminar este consultorio?"))try{let b=s(),c=await fetch(`/api/clinics?id=${a}&userId=${b}`,{method:"DELETE"}),d=await c.json();d.success?(t("Consultorio eliminado exitosamente"),await H(),q&&q.id===a&&(localStorage.removeItem("selectedClinic"),window.location.href="/seleccionar-consultorio")):u(d.error||"Error al eliminar el consultorio")}catch(a){console.error("Error deleting clinic:",a),u("Error al eliminar el consultorio")}},K=async a=>{if(a.preventDefault(),!F.name||!F.address||!F.phone)return void v("Por favor completa todos los campos requeridos");try{let a=D?"PUT":"POST",b=s(),c=D?{...F,id:D.id,userId:b}:{...F,userId:b},d=await fetch("/api/clinics",{method:a,headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}),e=await d.json();e.success?(t(D?"Consultorio actualizado exitosamente":"Consultorio agregado exitosamente"),C(!1),await H()):u(e.error||"Error al guardar el consultorio")}catch(a){console.error("Error saving clinic:",a),u("Error al guardar el consultorio")}},L=(a,b)=>{G(c=>({...c,[a]:b}))};return z?(0,b.jsx)(o.LoadingPage,{message:"Cargando consultorios..."}):s()?(0,b.jsxs)("div",{className:"p-8",children:[(0,b.jsx)(w,{}),(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-foreground",children:"Mis Consultorios"}),(0,b.jsxs)(h.Button,{onClick:I,className:"btn-primary",children:[(0,b.jsx)(d.Plus,{className:"w-4 h-4 mr-2"}),"Agregar Consultorio"]})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:0===x.length?(0,b.jsxs)(i.Card,{className:"col-span-full p-8 text-center",children:[(0,b.jsx)(g.Building2,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"No tienes consultorios registrados"}),(0,b.jsx)(h.Button,{onClick:I,className:"mt-4",children:"Agregar tu primer consultorio"})]}):x.map(a=>(0,b.jsxs)(i.Card,{className:`p-6 hover:shadow-lg transition-shadow ${q&&q.id===a.id?"ring-2 ring-primary":""}`,children:[(0,b.jsx)("div",{className:"flex items-start justify-between mb-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:(0,b.jsx)(g.Building2,{className:"w-6 h-6 text-primary"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-semibold text-lg",children:a.name}),q&&q.id===a.id&&(0,b.jsx)("span",{className:"text-xs text-primary font-medium",children:"Activo"})]})]})}),(0,b.jsxs)("div",{className:"space-y-2 mb-4 text-sm text-muted-foreground",children:[(0,b.jsxs)("p",{children:[(0,b.jsx)("strong",{children:"Direcci贸n:"})," ",a.address]}),(0,b.jsxs)("p",{children:[(0,b.jsx)("strong",{children:"Tel茅fono:"})," ",a.phone]}),a.email&&(0,b.jsxs)("p",{children:[(0,b.jsx)("strong",{children:"Email:"})," ",a.email]}),a.city&&(0,b.jsxs)("p",{children:[(0,b.jsx)("strong",{children:"Ciudad:"})," ",a.city]}),a.description&&(0,b.jsxs)("p",{className:"mt-2",children:[(0,b.jsx)("strong",{children:"Descripci贸n:"})," ",a.description]})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(!q||q.id!==a.id)&&(0,b.jsx)(h.Button,{onClick:()=>{r(a),t(`Consultorio "${a.name}" seleccionado`)},className:"flex-1",variant:"outline",children:"Seleccionar"}),(0,b.jsx)(h.Button,{onClick:()=>{E(a),G({name:a.name||"",address:a.address||"",phone:a.phone||"",email:a.email||"",city:a.city||"",state:a.state||"",postalCode:a.postal_code||"",description:a.description||""}),C(!0)},variant:"outline",size:"icon",children:(0,b.jsx)(e.Edit,{className:"w-4 h-4"})}),(0,b.jsx)(h.Button,{onClick:()=>J(a.id),variant:"outline",size:"icon",children:(0,b.jsx)(f.Trash2,{className:"w-4 h-4 text-destructive"})})]})]},a.id))}),(0,b.jsx)(j.Dialog,{open:B,onOpenChange:C,children:(0,b.jsxs)(j.DialogContent,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,b.jsx)(j.DialogHeader,{children:(0,b.jsx)(j.DialogTitle,{children:D?"Editar Consultorio":"Agregar Nuevo Consultorio"})}),(0,b.jsxs)("form",{onSubmit:K,className:"grid gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(k.Label,{htmlFor:"name",children:"Nombre del Consultorio *"}),(0,b.jsx)(l.Input,{id:"name",value:F.name,onChange:a=>L("name",a.target.value),required:!0,placeholder:"Ej: Cl铆nica Veterinaria San Francisco"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(k.Label,{htmlFor:"address",children:"Direcci贸n Completa *"}),(0,b.jsx)(m.Textarea,{id:"address",value:F.address,onChange:a=>L("address",a.target.value),required:!0,placeholder:"Calle, n煤mero, colonia",rows:2})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(k.Label,{htmlFor:"city",children:"Ciudad"}),(0,b.jsx)(l.Input,{id:"city",value:F.city,onChange:a=>L("city",a.target.value),placeholder:"Ciudad"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(k.Label,{htmlFor:"state",children:"Estado"}),(0,b.jsx)(l.Input,{id:"state",value:F.state,onChange:a=>L("state",a.target.value),placeholder:"Estado"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(k.Label,{htmlFor:"postalCode",children:"C贸digo Postal"}),(0,b.jsx)(l.Input,{id:"postalCode",value:F.postalCode,onChange:a=>L("postalCode",a.target.value),placeholder:"12345",onKeyPress:a=>{/[0-9]/.test(a.key)||a.preventDefault()}})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(k.Label,{htmlFor:"phone",children:"Tel茅fono *"}),(0,b.jsx)(l.Input,{id:"phone",value:F.phone,onChange:a=>L("phone",a.target.value),required:!0,placeholder:"(555) 123-4567"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(k.Label,{htmlFor:"email",children:"Email"}),(0,b.jsx)(l.Input,{id:"email",type:"email",value:F.email,onChange:a=>L("email",a.target.value),placeholder:"contacto@clinica.com"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(k.Label,{htmlFor:"description",children:"Descripci贸n"}),(0,b.jsx)(m.Textarea,{id:"description",value:F.description,onChange:a=>L("description",a.target.value),rows:3,placeholder:"Breve descripci贸n del consultorio..."})]}),(0,b.jsxs)(j.DialogFooter,{children:[(0,b.jsx)(h.Button,{type:"button",variant:"outline",onClick:()=>C(!1),children:"Cancelar"}),(0,b.jsx)(h.Button,{type:"submit",className:"btn-primary",children:D?"Actualizar":"Guardar"})]})]})]})})]}):(0,b.jsx)("div",{className:"p-8",children:"Por favor inicia sesi贸n"})}a.s(["default",()=>q])}];

//# sourceMappingURL=_a7a4d300._.js.map