{"version":3,"sources":["turbopack:///[project]/app/consultas/page.jsx","turbopack:///[project]/components/consultations/consultation-stats.jsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { Button } from \"@/components/ui/button\"\nimport { Plus } from 'lucide-react'\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from \"@/components/ui/dialog\"\nimport { Input } from \"@/components/ui/input\"\nimport { Label } from \"@/components/ui/label\"\nimport { Textarea } from \"@/components/ui/textarea\"\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\"\nimport { Card } from \"@/components/ui/card\"\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from \"@/components/ui/table\"\nimport { Search, Edit, Trash2 } from 'lucide-react'\nimport { useAuth } from \"@/contexts/auth-context\"\nimport { LoadingPage } from \"@/components/ui/loader\"\nimport { useAlertToast } from \"@/components/ui/alert-toast\"\nimport { ConsultationStats } from \"@/components/consultations/consultation-stats\"\nimport { formatCurrency, parseCurrency, handleCurrencyInput } from \"@/lib/currency\"\n\nexport default function ConsultasPage() {\n  const { user, selectedClinic, getUserId, getClinicId } = useAuth()\n  const { showSuccess, showError, showWarning, AlertContainer } = useAlertToast()\n  const [consultations, setConsultations] = useState([])\n  const [patients, setPatients] = useState([])\n  const [staff, setStaff] = useState([])\n  const [filteredConsultations, setFilteredConsultations] = useState([])\n  const [isDialogOpen, setIsDialogOpen] = useState(false)\n  const [isPatientDialogOpen, setIsPatientDialogOpen] = useState(false)\n  const [editingConsultation, setEditingConsultation] = useState(null)\n  const [searchQuery, setSearchQuery] = useState(\"\")\n  const [loading, setLoading] = useState(true)\n  const [activeFilter, setActiveFilter] = useState(null)\n  const [formData, setFormData] = useState({\n    patientId: \"\",\n    patientName: \"\",\n    ownerName: \"\",\n    accompaniedBy: \"\",\n    date: \"\",\n    reason: \"\",\n    diagnosis: \"\",\n    treatment: \"\",\n    notes: \"\",\n    veterinarian: \"\",\n    cost: \"\",\n  })\n  const [newPatientData, setNewPatientData] = useState({\n    name: \"\",\n    animalType: \"\",\n    breed: \"\",\n    age: \"\",\n    weight: \"\",\n    sex: \"\",\n    ownerName: \"\",\n    ownerPhone: \"\",\n    medicalHistory: \"\",\n    diseases: \"\",\n  })\n\n  useEffect(() => {\n    if (user && selectedClinic) {\n      fetchConsultations()\n      fetchPatients()\n      fetchStaff()\n    }\n  }, [user, selectedClinic])\n\n  const fetchConsultations = async () => {\n    try {\n      setLoading(true)\n      const userId = getUserId()\n      const clinicId = getClinicId()\n      if (!userId || !clinicId) return\n\n      const response = await fetch(`/api/consultations?userId=${userId}&clinicId=${clinicId}`)\n      const data = await response.json()\n      if (data.success) {\n        setConsultations(data.data || [])\n      } else {\n        showError(data.error || \"Error al cargar consultas\")\n      }\n    } catch (error) {\n      console.error(\"Error fetching consultations:\", error)\n      showError(\"Error al cargar las consultas\")\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const fetchPatients = async () => {\n    try {\n      console.log(\"[v0] Fetching patients...\")\n      const userId = getUserId()\n      const clinicId = getClinicId()\n      if (!userId || !clinicId) {\n        console.log(\"[v0] Missing userId or clinicId\")\n        return\n      }\n\n      console.log(\"[v0] Request params:\", { userId, clinicId })\n      const response = await fetch(`/api/patients?userId=${userId}&clinicId=${clinicId}`)\n      const result = await response.json()\n      console.log(\"[v0] Patients API response:\", result)\n\n      if (result.success) {\n        console.log(\"[v0] Patients loaded successfully:\", result.data.length)\n        setPatients(result.data || [])\n      } else {\n        console.log(\"[v0] API returned error:\", result.error)\n        showWarning(\"No se pudieron cargar los pacientes\")\n      }\n    } catch (error) {\n      console.error(\"[v0] Error fetching patients:\", error)\n      showWarning(\"Error al cargar los pacientes\")\n    }\n  }\n\n  const fetchStaff = async () => {\n    try {\n      const userId = getUserId()\n      const clinicId = getClinicId()\n      if (!userId || !clinicId) return\n\n      const response = await fetch(`/api/staff?userId=${userId}&clinicId=${clinicId}`)\n      const result = await response.json()\n      if (result.success) {\n        const veterinarians = result.data.filter((s) => s.position && s.position.toLowerCase().includes(\"veterinari\"))\n        setStaff(veterinarians)\n      } else {\n        showWarning(\"No se pudieron cargar los veterinarios\")\n      }\n    } catch (error) {\n      console.error(\"Error fetching staff:\", error)\n    }\n  }\n\n  useEffect(() => {\n    filterConsultations()\n  }, [consultations, searchQuery, activeFilter])\n\n  const filterConsultations = () => {\n    let filtered = [...consultations]\n\n    if (activeFilter) {\n      filtered = filtered.filter((c) => c.status === activeFilter)\n    }\n\n    if (searchQuery) {\n      filtered = filtered.filter(\n        (c) =>\n          c.patientName?.toLowerCase().includes(searchQuery.toLowerCase()) ||\n          c.ownerName?.toLowerCase().includes(searchQuery.toLowerCase()) ||\n          c.reason?.toLowerCase().includes(searchQuery.toLowerCase()) ||\n          c.veterinarian?.toLowerCase().includes(searchQuery.toLowerCase()),\n      )\n    }\n\n    setFilteredConsultations(filtered)\n  }\n\n  const handleFilterClick = (status) => {\n    setActiveFilter(status)\n  }\n\n  const handleSubmit = async (e) => {\n    e.preventDefault()\n\n    if (!formData.patientName || !formData.ownerName || !formData.accompaniedBy || !formData.date || !formData.reason) {\n      showWarning(\"Por favor completa todos los campos obligatorios\")\n      return\n    }\n\n    const userId = getUserId()\n    const clinicId = getClinicId()\n\n    const method = editingConsultation ? \"PUT\" : \"POST\"\n    const body = editingConsultation\n      ? { ...formData, id: editingConsultation.id, userId, clinicId }\n      : { ...formData, userId, clinicId }\n\n    const response = await fetch(\"/api/consultations\", {\n      method,\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(body),\n    })\n\n    const result = await response.json()\n    if (result.success) {\n      showSuccess(editingConsultation ? \"Consulta actualizada exitosamente\" : \"Consulta registrada exitosamente\")\n      fetchConsultations()\n      handleCloseDialog()\n    } else {\n      showError(result.error || \"Error al guardar consulta\")\n    }\n  }\n\n  const handleDelete = async (id) => {\n    if (confirm(\"¿Estás seguro de eliminar esta consulta?\")) {\n      const userId = getUserId()\n      const clinicId = getClinicId()\n\n      const response = await fetch(`/api/consultations?id=${id}&userId=${userId}&clinicId=${clinicId}`, {\n        method: \"DELETE\",\n      })\n      const result = await response.json()\n\n      if (result.success) {\n        showSuccess(\"Consulta eliminada exitosamente\")\n        fetchConsultations()\n      } else {\n        showError(\"Error al eliminar la consulta\")\n      }\n    }\n  }\n\n  const handleEdit = (consultation) => {\n    setEditingConsultation(consultation)\n    setFormData({\n      ...formData,\n      patientId: consultation.patientId || \"\",\n      patientName: consultation.patientName || \"\",\n      ownerName: consultation.ownerName || \"\",\n      accompaniedBy: consultation.accompaniedBy || \"\",\n      date: consultation.date ? new Date(consultation.date).toISOString().split(\"T\")[0] : \"\",\n      reason: consultation.reason || \"\",\n      diagnosis: consultation.diagnosis || \"\",\n      treatment: consultation.treatment || \"\",\n      notes: consultation.notes || \"\",\n      veterinarian: consultation.veterinarian || \"\",\n      cost: consultation.cost || \"\",\n    })\n    setIsDialogOpen(true)\n  }\n\n  const handleCloseDialog = () => {\n    setIsDialogOpen(false)\n    setEditingConsultation(null)\n    setFormData({\n      patientId: \"\",\n      patientName: \"\",\n      ownerName: \"\",\n      accompaniedBy: \"\",\n      date: \"\",\n      reason: \"\",\n      diagnosis: \"\",\n      treatment: \"\",\n      notes: \"\",\n      veterinarian: \"\",\n      cost: \"\",\n    })\n  }\n\n  const handlePatientSelect = (patientId) => {\n    console.log(\"[v0] Patient selected:\", patientId)\n    console.log(\"[v0] Available patients:\", patients)\n\n    const patient = patients.find((p) => p.id === Number.parseInt(patientId))\n    console.log(\"[v0] Found patient:\", patient)\n\n    if (patient) {\n      setFormData({\n        ...formData,\n        patientId: patient.id,\n        patientName: patient.name,\n        ownerName: patient.ownerName, // now matches the API response\n      })\n      console.log(\"[v0] Form data updated with patient info\")\n    } else {\n      console.log(\"[v0] Patient not found in list\")\n    }\n  }\n\n  const handleNewPatient = async (e) => {\n    e.preventDefault()\n\n    if (!newPatientData.name || !newPatientData.animalType || !newPatientData.ownerName) {\n      showWarning(\"Por favor completa los campos obligatorios del paciente\")\n      return\n    }\n\n    const userId = getUserId()\n    const clinicId = getClinicId()\n\n    const response = await fetch(\"/api/patients\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        ...newPatientData,\n        lastVisit: new Date().toISOString().split(\"T\")[0],\n        userId,\n        clinicId,\n      }),\n    })\n\n    const result = await response.json()\n    if (result.success) {\n      showSuccess(\"Paciente registrado exitosamente\")\n      await fetchPatients()\n\n      setFormData({\n        ...formData,\n        patientId: result.data.id,\n        patientName: result.data.name,\n        ownerName: result.data.ownerName,\n      })\n\n      setIsPatientDialogOpen(false)\n      setNewPatientData({\n        name: \"\",\n        animalType: \"\",\n        breed: \"\",\n        age: \"\",\n        weight: \"\",\n        sex: \"\",\n        ownerName: \"\",\n        ownerPhone: \"\",\n        medicalHistory: \"\",\n        diseases: \"\",\n      })\n    } else {\n      showError(result.error || \"Error al registrar el paciente\")\n    }\n  }\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target\n    setFormData({ ...formData, [name]: value })\n  }\n\n  const handleCurrencyChange = (e) => {\n    const cleanValue = parseCurrency(e.target.value)\n    if (cleanValue === \"\" || /^\\d*\\.?\\d{0,2}$/.test(cleanValue)) {\n      setFormData({ ...formData, cost: cleanValue })\n    }\n  }\n\n  const handleNumberInput = (e) => {\n    const { name, value } = e.target\n    if (value === \"\" || /^\\d*\\.?\\d*$/.test(value)) {\n      setFormData({ ...formData, [name]: value })\n    }\n  }\n\n  if (loading) {\n    return <LoadingPage message=\"Cargando consultas...\" />\n  }\n\n  if (!user || !selectedClinic) {\n    return <div className=\"p-6\">Por favor selecciona un consultorio</div>\n  }\n\n  return (\n    <div className=\"p-6\">\n      <AlertContainer />\n      <div className=\"flex justify-between items-center mb-6\">\n        <h1 className=\"text-3xl font-bold\">Consultas</h1>\n        <Button onClick={() => setIsDialogOpen(true)}>\n          <Plus className=\"w-4 h-4 mr-2\" />\n          Nueva Consulta\n        </Button>\n      </div>\n\n      <ConsultationStats consultations={consultations} onFilterClick={handleFilterClick} activeFilter={activeFilter} />\n\n      <Card className=\"p-6\">\n        <div className=\"flex items-center gap-4 mb-6\">\n          <div className=\"relative flex-1\">\n            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4\" />\n            <Input\n              placeholder=\"Buscar por paciente, dueño, motivo o veterinario...\"\n              value={searchQuery}\n              onChange={(e) => setSearchQuery(e.target.value)}\n              className=\"pl-10\"\n            />\n          </div>\n        </div>\n\n        <div className=\"overflow-x-auto\">\n          <Table>\n            <TableHeader>\n              <TableRow>\n                <TableHead>ID</TableHead>\n                <TableHead>Fecha</TableHead>\n                <TableHead>Paciente</TableHead>\n                <TableHead>Dueño</TableHead>\n                <TableHead>Acompañante</TableHead>\n                <TableHead>Motivo</TableHead>\n                <TableHead>Diagnóstico</TableHead>\n                <TableHead>Veterinario</TableHead>\n                <TableHead>Costo</TableHead>\n                <TableHead className=\"text-right\">Acciones</TableHead>\n              </TableRow>\n            </TableHeader>\n            <TableBody>\n              {filteredConsultations.length === 0 ? (\n                <TableRow>\n                  <TableCell colSpan={10} className=\"text-center text-muted-foreground\">\n                    No se encontraron consultas\n                  </TableCell>\n                </TableRow>\n              ) : (\n                filteredConsultations.map((consultation) => (\n                  <TableRow key={consultation.id}>\n                    <TableCell className=\"font-medium\">{consultation.id}</TableCell>\n                    <TableCell>{new Date(consultation.date).toLocaleDateString(\"es-MX\")}</TableCell>\n                    <TableCell>{consultation.patientName}</TableCell>\n                    <TableCell>{consultation.ownerName}</TableCell>\n                    <TableCell>{consultation.accompaniedBy}</TableCell>\n                    <TableCell>{consultation.reason}</TableCell>\n                    <TableCell>{consultation.diagnosis || \"-\"}</TableCell>\n                    <TableCell>{consultation.veterinarian || \"-\"}</TableCell>\n                    <TableCell>{formatCurrency(consultation.cost || 0)}</TableCell>\n                    <TableCell className=\"text-right\">\n                      <div className=\"flex justify-end gap-2\">\n                        <Button variant=\"ghost\" size=\"sm\" onClick={() => handleEdit(consultation)}>\n                          <Edit className=\"w-4 h-4\" />\n                        </Button>\n                        <Button variant=\"ghost\" size=\"sm\" onClick={() => handleDelete(consultation.id)}>\n                          <Trash2 className=\"w-4 h-4 text-destructive\" />\n                        </Button>\n                      </div>\n                    </TableCell>\n                  </TableRow>\n                ))\n              )}\n            </TableBody>\n          </Table>\n        </div>\n      </Card>\n\n      <Dialog open={isDialogOpen} onOpenChange={setIsDialogOpen}>\n        <DialogContent className=\"max-w-2xl max-h-[90vh] overflow-y-auto\">\n          <DialogHeader>\n            <DialogTitle>{editingConsultation ? \"Editar Consulta\" : \"Nueva Consulta\"}</DialogTitle>\n          </DialogHeader>\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div className=\"col-span-2\">\n                <Label>Paciente *</Label>\n                <div className=\"flex gap-2\">\n                  <Select value={formData.patientId} onValueChange={handlePatientSelect}>\n                    <SelectTrigger>\n                      <SelectValue placeholder=\"Seleccionar paciente\" />\n                    </SelectTrigger>\n                    <SelectContent>\n                      {patients.map((patient) => (\n                        <SelectItem key={patient.id} value={patient.id.toString()}>\n                          {patient.name} - {patient.ownerName}\n                        </SelectItem>\n                      ))}\n                    </SelectContent>\n                  </Select>\n                  <Button type=\"button\" variant=\"outline\" onClick={() => setIsPatientDialogOpen(true)}>\n                    Nuevo Paciente\n                  </Button>\n                </div>\n              </div>\n\n              <div>\n                <Label htmlFor=\"patientName\">Nombre del Paciente *</Label>\n                <Input\n                  id=\"patientName\"\n                  name=\"patientName\"\n                  value={formData.patientName}\n                  onChange={handleInputChange}\n                  required\n                />\n              </div>\n\n              <div>\n                <Label htmlFor=\"ownerName\">Nombre del Dueño *</Label>\n                <Input\n                  id=\"ownerName\"\n                  name=\"ownerName\"\n                  value={formData.ownerName}\n                  onChange={handleInputChange}\n                  required\n                />\n              </div>\n\n              <div>\n                <Label htmlFor=\"accompaniedBy\">Acompañado por *</Label>\n                <Input\n                  id=\"accompaniedBy\"\n                  name=\"accompaniedBy\"\n                  value={formData.accompaniedBy}\n                  onChange={handleInputChange}\n                  required\n                />\n              </div>\n\n              <div>\n                <Label htmlFor=\"date\">Fecha *</Label>\n                <Input id=\"date\" name=\"date\" type=\"date\" value={formData.date} onChange={handleInputChange} required />\n              </div>\n\n              <div className=\"col-span-2\">\n                <Label htmlFor=\"reason\">Motivo de la Consulta *</Label>\n                <Textarea id=\"reason\" name=\"reason\" value={formData.reason} onChange={handleInputChange} required />\n              </div>\n\n              <div className=\"col-span-2\">\n                <Label htmlFor=\"diagnosis\">Diagnóstico</Label>\n                <Textarea id=\"diagnosis\" name=\"diagnosis\" value={formData.diagnosis} onChange={handleInputChange} />\n              </div>\n\n              <div className=\"col-span-2\">\n                <Label htmlFor=\"treatment\">Tratamiento</Label>\n                <Textarea id=\"treatment\" name=\"treatment\" value={formData.treatment} onChange={handleInputChange} />\n              </div>\n\n              <div className=\"col-span-2\">\n                <Label htmlFor=\"notes\">Notas Adicionales</Label>\n                <Textarea id=\"notes\" name=\"notes\" value={formData.notes} onChange={handleInputChange} />\n              </div>\n\n              <div>\n                <Label htmlFor=\"veterinarian\">Veterinario</Label>\n                <Select\n                  value={formData.veterinarian}\n                  onValueChange={(value) => setFormData({ ...formData, veterinarian: value })}\n                >\n                  <SelectTrigger>\n                    <SelectValue placeholder=\"Seleccionar veterinario\" />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"none\">Ninguno</SelectItem>\n                    {staff.map((vet) => (\n                      <SelectItem key={vet.id} value={`${vet.name} ${vet.lastName}`}>\n                        {vet.name} {vet.lastName} - {vet.position}\n                      </SelectItem>\n                    ))}\n                  </SelectContent>\n                </Select>\n              </div>\n\n              <div>\n                <Label htmlFor=\"cost\">Costo</Label>\n                <div className=\"relative\">\n                  <span className=\"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground\">$</span>\n                  <Input\n                    id=\"cost\"\n                    name=\"cost\"\n                    value={formData.cost}\n                    onChange={handleCurrencyChange}\n                    placeholder=\"0.00\"\n                    className=\"pl-7\"\n                  />\n                </div>\n                {formData.cost && (\n                  <p className=\"text-xs text-muted-foreground mt-1\">{formatCurrency(formData.cost)}</p>\n                )}\n              </div>\n            </div>\n\n            <div className=\"flex justify-end gap-2\">\n              <Button type=\"button\" variant=\"outline\" onClick={handleCloseDialog}>\n                Cancelar\n              </Button>\n              <Button type=\"submit\">{editingConsultation ? \"Actualizar\" : \"Guardar\"}</Button>\n            </div>\n          </form>\n        </DialogContent>\n      </Dialog>\n\n      <Dialog open={isPatientDialogOpen} onOpenChange={setIsPatientDialogOpen}>\n        <DialogContent className=\"max-w-2xl max-h-[90vh] overflow-y-auto\">\n          <DialogHeader>\n            <DialogTitle>Registrar Nuevo Paciente</DialogTitle>\n          </DialogHeader>\n          <form onSubmit={handleNewPatient} className=\"space-y-4\">\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div>\n                <Label htmlFor=\"name\">Nombre *</Label>\n                <Input\n                  id=\"name\"\n                  value={newPatientData.name}\n                  onChange={(e) => setNewPatientData({ ...newPatientData, name: e.target.value })}\n                  required\n                />\n              </div>\n\n              <div>\n                <Label htmlFor=\"animalType\">Tipo de Animal *</Label>\n                <Select\n                  value={newPatientData.animalType}\n                  onValueChange={(value) => setNewPatientData({ ...newPatientData, animalType: value })}\n                >\n                  <SelectTrigger>\n                    <SelectValue placeholder=\"Seleccionar\" />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"Perro\">Perro</SelectItem>\n                    <SelectItem value=\"Gato\">Gato</SelectItem>\n                    <SelectItem value=\"Ave\">Ave</SelectItem>\n                    <SelectItem value=\"Conejo\">Conejo</SelectItem>\n                    <SelectItem value=\"Hamster\">Hámster</SelectItem>\n                    <SelectItem value=\"Reptil\">Reptil</SelectItem>\n                  </SelectContent>\n                </Select>\n              </div>\n\n              <div>\n                <Label htmlFor=\"breed\">Raza</Label>\n                <Input\n                  id=\"breed\"\n                  value={newPatientData.breed}\n                  onChange={(e) => setNewPatientData({ ...newPatientData, breed: e.target.value })}\n                />\n              </div>\n\n              <div>\n                <Label htmlFor=\"age\">Edad (años)</Label>\n                <Input\n                  id=\"age\"\n                  value={newPatientData.age}\n                  onChange={(e) => {\n                    if (e.target.value === \"\" || /^\\d+$/.test(e.target.value)) {\n                      setNewPatientData({ ...newPatientData, age: e.target.value })\n                    }\n                  }}\n                />\n              </div>\n\n              <div>\n                <Label htmlFor=\"weight\">Peso (kg)</Label>\n                <Input\n                  id=\"weight\"\n                  value={newPatientData.weight}\n                  onChange={(e) => {\n                    if (e.target.value === \"\" || /^\\d*\\.?\\d*$/.test(e.target.value)) {\n                      setNewPatientData({ ...newPatientData, weight: e.target.value })\n                    }\n                  }}\n                />\n              </div>\n\n              <div>\n                <Label htmlFor=\"sex\">Sexo</Label>\n                <Select\n                  value={newPatientData.sex}\n                  onValueChange={(value) => setNewPatientData({ ...newPatientData, sex: value })}\n                >\n                  <SelectTrigger>\n                    <SelectValue placeholder=\"Seleccionar\" />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"Macho\">Macho</SelectItem>\n                    <SelectItem value=\"Hembra\">Hembra</SelectItem>\n                  </SelectContent>\n                </Select>\n              </div>\n\n              <div>\n                <Label htmlFor=\"ownerName\">Nombre del Dueño *</Label>\n                <Input\n                  id=\"ownerName\"\n                  value={newPatientData.ownerName}\n                  onChange={(e) => setNewPatientData({ ...newPatientData, ownerName: e.target.value })}\n                  required\n                />\n              </div>\n\n              <div>\n                <Label htmlFor=\"ownerPhone\">Teléfono del Dueño</Label>\n                <Input\n                  id=\"ownerPhone\"\n                  value={newPatientData.ownerPhone}\n                  onChange={(e) => setNewPatientData({ ...newPatientData, ownerPhone: e.target.value })}\n                />\n              </div>\n\n              <div className=\"col-span-2\">\n                <Label htmlFor=\"medicalHistory\">Historial Médico</Label>\n                <Textarea\n                  id=\"medicalHistory\"\n                  value={newPatientData.medicalHistory}\n                  onChange={(e) => setNewPatientData({ ...newPatientData, medicalHistory: e.target.value })}\n                />\n              </div>\n\n              <div className=\"col-span-2\">\n                <Label htmlFor=\"diseases\">Enfermedades</Label>\n                <Textarea\n                  id=\"diseases\"\n                  value={newPatientData.diseases}\n                  onChange={(e) => setNewPatientData({ ...newPatientData, diseases: e.target.value })}\n                />\n              </div>\n            </div>\n\n            <div className=\"flex justify-end gap-2\">\n              <Button type=\"button\" variant=\"outline\" onClick={() => setIsPatientDialogOpen(false)}>\n                Cancelar\n              </Button>\n              <Button type=\"submit\">Guardar Paciente</Button>\n            </div>\n          </form>\n        </DialogContent>\n      </Dialog>\n    </div>\n  )\n}\n","\"use client\"\r\n\r\nimport { Calendar, CheckCircle, Clock, FileText } from \"lucide-react\"\r\nimport { StatsCard } from \"@/components/shared/stats-card\"\r\n\r\nexport function ConsultationStats({ consultations, onFilterClick, activeFilter }) {\r\n  const totalConsultations = consultations.length\r\n  const completedConsultations = consultations.filter((c) => c.status === \"Completada\").length\r\n  const pendingConsultations = consultations.filter((c) => c.status === \"Pendiente\").length\r\n  const inProgressConsultations = consultations.filter((c) => c.status === \"En Proceso\").length\r\n\r\n  const stats = [\r\n    {\r\n      label: \"Total Consultas\",\r\n      value: totalConsultations,\r\n      icon: FileText,\r\n      color: \"text-primary\",\r\n      filter: null,\r\n      subtitle: \"Registros totales\",\r\n    },\r\n    {\r\n      label: \"Completadas\",\r\n      value: completedConsultations,\r\n      icon: CheckCircle,\r\n      color: \"text-green-500\",\r\n      filter: \"Completada\",\r\n      subtitle: \"Finalizadas exitosamente\",\r\n    },\r\n    {\r\n      label: \"En Proceso\",\r\n      value: inProgressConsultations,\r\n      icon: Clock,\r\n      color: \"text-yellow-500\",\r\n      filter: \"En Proceso\",\r\n      subtitle: \"En atención actualmente\",\r\n    },\r\n    {\r\n      label: \"Pendientes\",\r\n      value: pendingConsultations,\r\n      icon: Calendar,\r\n      color: \"text-blue-500\",\r\n      filter: \"Pendiente\",\r\n      subtitle: \"Por atender\",\r\n    },\r\n  ]\r\n\r\n  return (\r\n    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6\">\r\n      {stats.map((stat) => {\r\n        const Icon = stat.icon\r\n        const isActive = activeFilter === stat.filter\r\n\r\n        return (\r\n          <StatsCard\r\n            key={stat.label}\r\n            label={stat.label}\r\n            value={stat.value}\r\n            icon={Icon}\r\n            color={stat.color}\r\n            isActive={isActive}\r\n            onClick={() => onFilterClick(stat.filter)}\r\n            subtitle={stat.subtitle}\r\n          />\r\n        )\r\n      })}\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}