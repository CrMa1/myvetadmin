module.exports=[3130,a=>{"use strict";var b=a.i(87924),c=a.i(97895);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...d})}function f({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-title",className:(0,c.cn)("leading-none font-semibold",a),...d})}function g({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-description",className:(0,c.cn)("text-muted-foreground text-sm",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-6",a),...d})}function i({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-footer",className:(0,c.cn)("flex items-center px-6 [.border-t]:pt-6",a),...d})}a.s(["Card",()=>d,"CardContent",()=>h,"CardDescription",()=>g,"CardFooter",()=>i,"CardHeader",()=>e,"CardTitle",()=>f])},15618,a=>{"use strict";let b=(0,a.i(70106).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],15618)},210,a=>{"use strict";let b=(0,a.i(70106).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],210)},88237,a=>{"use strict";var b=a.i(87924),c=a.i(97895);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,b.jsx)("table",{"data-slot":"table",className:(0,c.cn)("w-full caption-bottom text-sm",a),...d})})}function e({className:a,...d}){return(0,b.jsx)("thead",{"data-slot":"table-header",className:(0,c.cn)("[&_tr]:border-b",a),...d})}function f({className:a,...d}){return(0,b.jsx)("tbody",{"data-slot":"table-body",className:(0,c.cn)("[&_tr:last-child]:border-0",a),...d})}function g({className:a,...d}){return(0,b.jsx)("tr",{"data-slot":"table-row",className:(0,c.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",a),...d})}function h({className:a,...d}){return(0,b.jsx)("th",{"data-slot":"table-head",className:(0,c.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...d})}function i({className:a,...d}){return(0,b.jsx)("td",{"data-slot":"table-cell",className:(0,c.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...d})}a.s(["Table",()=>d,"TableBody",()=>f,"TableCell",()=>i,"TableHead",()=>h,"TableHeader",()=>e,"TableRow",()=>g])},84046,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(3130),f=a.i(40695),g=a.i(210),h=a.i(15618),i=a.i(88237),j=a.i(3183);function k(){let a=(0,d.useParams)(),k=(0,d.useRouter)(),{getUserId:l,getClinicId:m}=(0,j.useAuth)(),[n,o]=(0,c.useState)(null),[p,q]=(0,c.useState)([]),[r,s]=(0,c.useState)(!0);(0,c.useEffect)(()=>{let b=l(),c=m();b&&c&&a.id&&t()},[a.id,l,m]);let t=async()=>{try{s(!0);let b=l(),c=m(),d=await fetch(`/api/patients/${a.id}?userId=${b}&clinicId=${c}`),e=await d.json();e.success&&(o(e.data.patient),q(e.data.consultations||[]))}catch(a){console.error("Error fetching kardex:",a)}finally{s(!1)}};return r?(0,b.jsx)("div",{className:"p-8",children:(0,b.jsx)("p",{children:"Cargando..."})}):n?(0,b.jsxs)("div",{className:"p-8",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsxs)(f.Button,{variant:"ghost",onClick:()=>k.back(),children:[(0,b.jsx)(g.ArrowLeft,{className:"w-4 h-4 mr-2"}),"Volver"]}),(0,b.jsxs)(f.Button,{onClick:()=>{k.push(`/consultas?patientId=${a.id}`)},className:"btn-primary",children:[(0,b.jsx)(h.Plus,{className:"w-4 h-4 mr-2"}),"Nueva Consulta"]})]}),(0,b.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Kardex del Paciente"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[(0,b.jsxs)(e.Card,{className:"p-6",children:[(0,b.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Información del Paciente"}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,b.jsx)("span",{className:"font-semibold",children:"Nombre:"}),(0,b.jsx)("span",{children:n.name})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,b.jsx)("span",{className:"font-semibold",children:"Tipo:"}),(0,b.jsx)("span",{children:n.animal_type})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,b.jsx)("span",{className:"font-semibold",children:"Raza:"}),(0,b.jsx)("span",{children:n.breed})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,b.jsx)("span",{className:"font-semibold",children:"Edad:"}),(0,b.jsxs)("span",{children:[n.age," años"]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,b.jsx)("span",{className:"font-semibold",children:"Peso:"}),(0,b.jsxs)("span",{children:[n.weight," kg"]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,b.jsx)("span",{className:"font-semibold",children:"Sexo:"}),(0,b.jsx)("span",{children:n.sex})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,b.jsx)("span",{className:"font-semibold",children:"Color:"}),(0,b.jsx)("span",{children:n.color})]})]})]}),(0,b.jsxs)(e.Card,{className:"p-6",children:[(0,b.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Información del Dueño"}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,b.jsx)("span",{className:"font-semibold",children:"Nombre:"}),(0,b.jsx)("span",{children:n.owner_name})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,b.jsx)("span",{className:"font-semibold",children:"Teléfono:"}),(0,b.jsx)("span",{children:n.owner_phone})]}),n.owner_email&&(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,b.jsx)("span",{className:"font-semibold",children:"Email:"}),(0,b.jsx)("span",{children:n.owner_email})]}),n.owner_address&&(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,b.jsx)("span",{className:"font-semibold",children:"Dirección:"}),(0,b.jsx)("span",{children:n.owner_address})]}),n.last_visit&&(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,b.jsx)("span",{className:"font-semibold",children:"Última Visita:"}),(0,b.jsx)("span",{children:new Date(n.last_visit).toLocaleDateString("es-MX")})]})]}),n.medical_history&&(0,b.jsxs)("div",{className:"mt-4",children:[(0,b.jsx)("h3",{className:"font-semibold mb-2",children:"Historial Médico:"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:n.medical_history})]}),n.diseases&&(0,b.jsxs)("div",{className:"mt-4",children:[(0,b.jsx)("h3",{className:"font-semibold mb-2",children:"Enfermedades:"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:n.diseases})]})]})]}),(0,b.jsxs)(e.Card,{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("h2",{className:"text-xl font-bold",children:"Historial de Consultas"}),(0,b.jsxs)("span",{className:"text-sm text-muted-foreground",children:[p.length," consulta(s) registrada(s)"]})]}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)(i.Table,{children:[(0,b.jsx)(i.TableHeader,{children:(0,b.jsxs)(i.TableRow,{children:[(0,b.jsx)(i.TableHead,{children:"Fecha"}),(0,b.jsx)(i.TableHead,{children:"Motivo"}),(0,b.jsx)(i.TableHead,{children:"Diagnóstico"}),(0,b.jsx)(i.TableHead,{children:"Tratamiento"}),(0,b.jsx)(i.TableHead,{children:"Veterinario"}),(0,b.jsx)(i.TableHead,{children:"Peso"}),(0,b.jsx)(i.TableHead,{children:"Temp."})]})}),(0,b.jsx)(i.TableBody,{children:0===p.length?(0,b.jsx)(i.TableRow,{children:(0,b.jsx)(i.TableCell,{colSpan:7,className:"text-center text-muted-foreground py-8",children:"No hay consultas registradas para este paciente"})}):p.map(a=>(0,b.jsxs)(i.TableRow,{children:[(0,b.jsx)(i.TableCell,{children:new Date(a.consultation_date).toLocaleDateString("es-MX",{year:"numeric",month:"short",day:"numeric"})}),(0,b.jsx)(i.TableCell,{children:a.reason}),(0,b.jsx)(i.TableCell,{children:a.diagnosis||"-"}),(0,b.jsx)(i.TableCell,{children:a.treatment||"-"}),(0,b.jsx)(i.TableCell,{children:a.veterinarian||"-"}),(0,b.jsx)(i.TableCell,{children:a.weight?`${a.weight} kg`:"-"}),(0,b.jsx)(i.TableCell,{children:a.temperature?`${a.temperature}\xb0C`:"-"})]},a.id))})]})})]})]}):(0,b.jsxs)("div",{className:"p-8",children:[(0,b.jsx)("p",{children:"Paciente no encontrado"}),(0,b.jsx)(f.Button,{onClick:()=>k.back(),className:"mt-4",children:"Volver"})]})}a.s(["default",()=>k])}];

//# sourceMappingURL=_4a3b47df._.js.map