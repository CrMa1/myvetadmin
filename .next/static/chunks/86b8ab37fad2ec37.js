(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,70065,e=>{"use strict";var s=e.i(43476),a=e.i(47163);function l({className:e,...l}){return(0,s.jsx)("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...l})}function r({className:e,...l}){return(0,s.jsx)("div",{"data-slot":"card-header",className:(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...l})}function t({className:e,...l}){return(0,s.jsx)("div",{"data-slot":"card-title",className:(0,a.cn)("leading-none font-semibold",e),...l})}function d({className:e,...l}){return(0,s.jsx)("div",{"data-slot":"card-description",className:(0,a.cn)("text-muted-foreground text-sm",e),...l})}function i({className:e,...l}){return(0,s.jsx)("div",{"data-slot":"card-content",className:(0,a.cn)("px-6",e),...l})}function n({className:e,...l}){return(0,s.jsx)("div",{"data-slot":"card-footer",className:(0,a.cn)("flex items-center px-6 [.border-t]:pt-6",e),...l})}e.s(["Card",()=>l,"CardContent",()=>i,"CardDescription",()=>d,"CardFooter",()=>n,"CardHeader",()=>r,"CardTitle",()=>t])},7233,e=>{"use strict";let s=(0,e.i(75254).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>s],7233)},71689,e=>{"use strict";let s=(0,e.i(75254).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>s],71689)},47627,e=>{"use strict";var s=e.i(43476),a=e.i(47163);function l({className:e,...l}){return(0,s.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,s.jsx)("table",{"data-slot":"table",className:(0,a.cn)("w-full caption-bottom text-sm",e),...l})})}function r({className:e,...l}){return(0,s.jsx)("thead",{"data-slot":"table-header",className:(0,a.cn)("[&_tr]:border-b",e),...l})}function t({className:e,...l}){return(0,s.jsx)("tbody",{"data-slot":"table-body",className:(0,a.cn)("[&_tr:last-child]:border-0",e),...l})}function d({className:e,...l}){return(0,s.jsx)("tr",{"data-slot":"table-row",className:(0,a.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...l})}function i({className:e,...l}){return(0,s.jsx)("th",{"data-slot":"table-head",className:(0,a.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...l})}function n({className:e,...l}){return(0,s.jsx)("td",{"data-slot":"table-cell",className:(0,a.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...l})}e.s(["Table",()=>l,"TableBody",()=>t,"TableCell",()=>n,"TableHead",()=>i,"TableHeader",()=>r,"TableRow",()=>d])},44205,e=>{"use strict";var s=e.i(43476),a=e.i(71645),l=e.i(18566),r=e.i(70065),t=e.i(67881),d=e.i(71689),i=e.i(7233),n=e.i(47627),c=e.i(26739);function o(){let e=(0,l.useParams)(),o=(0,l.useRouter)(),{getUserId:x,getClinicId:m}=(0,c.useAuth)(),[h,j]=(0,a.useState)(null),[u,p]=(0,a.useState)([]),[b,g]=(0,a.useState)(!0);(0,a.useEffect)(()=>{let s=x(),a=m();s&&a&&e.id&&f()},[e.id,x,m]);let f=async()=>{try{g(!0);let s=x(),a=m(),l=await fetch(`/api/patients/${e.id}?userId=${s}&clinicId=${a}`),r=await l.json();r.success&&(j(r.data.patient),p(r.data.consultations||[]))}catch(e){console.error("Error fetching kardex:",e)}finally{g(!1)}};return b?(0,s.jsx)("div",{className:"p-8",children:(0,s.jsx)("p",{children:"Cargando..."})}):h?(0,s.jsxs)("div",{className:"p-8",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsxs)(t.Button,{variant:"ghost",onClick:()=>o.back(),children:[(0,s.jsx)(d.ArrowLeft,{className:"w-4 h-4 mr-2"}),"Volver"]}),(0,s.jsxs)(t.Button,{onClick:()=>{o.push(`/consultas?patientId=${e.id}`)},className:"btn-primary",children:[(0,s.jsx)(i.Plus,{className:"w-4 h-4 mr-2"}),"Nueva Consulta"]})]}),(0,s.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Kardex del Paciente"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[(0,s.jsxs)(r.Card,{className:"p-6",children:[(0,s.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Información del Paciente"}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,s.jsx)("span",{className:"font-semibold",children:"Nombre:"}),(0,s.jsx)("span",{children:h.name})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,s.jsx)("span",{className:"font-semibold",children:"Tipo:"}),(0,s.jsx)("span",{children:h.animal_type})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,s.jsx)("span",{className:"font-semibold",children:"Raza:"}),(0,s.jsx)("span",{children:h.breed})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,s.jsx)("span",{className:"font-semibold",children:"Edad:"}),(0,s.jsxs)("span",{children:[h.age," años"]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,s.jsx)("span",{className:"font-semibold",children:"Peso:"}),(0,s.jsxs)("span",{children:[h.weight," kg"]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,s.jsx)("span",{className:"font-semibold",children:"Sexo:"}),(0,s.jsx)("span",{children:h.sex})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,s.jsx)("span",{className:"font-semibold",children:"Color:"}),(0,s.jsx)("span",{children:h.color})]})]})]}),(0,s.jsxs)(r.Card,{className:"p-6",children:[(0,s.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Información del Dueño"}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,s.jsx)("span",{className:"font-semibold",children:"Nombre:"}),(0,s.jsx)("span",{children:h.owner_name})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,s.jsx)("span",{className:"font-semibold",children:"Teléfono:"}),(0,s.jsx)("span",{children:h.owner_phone})]}),h.owner_email&&(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,s.jsx)("span",{className:"font-semibold",children:"Email:"}),(0,s.jsx)("span",{children:h.owner_email})]}),h.owner_address&&(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,s.jsx)("span",{className:"font-semibold",children:"Dirección:"}),(0,s.jsx)("span",{children:h.owner_address})]}),h.last_visit&&(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,s.jsx)("span",{className:"font-semibold",children:"Última Visita:"}),(0,s.jsx)("span",{children:new Date(h.last_visit).toLocaleDateString("es-MX")})]})]}),h.medical_history&&(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsx)("h3",{className:"font-semibold mb-2",children:"Historial Médico:"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:h.medical_history})]}),h.diseases&&(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsx)("h3",{className:"font-semibold mb-2",children:"Enfermedades:"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:h.diseases})]})]})]}),(0,s.jsxs)(r.Card,{className:"p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("h2",{className:"text-xl font-bold",children:"Historial de Consultas"}),(0,s.jsxs)("span",{className:"text-sm text-muted-foreground",children:[u.length," consulta(s) registrada(s)"]})]}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)(n.Table,{children:[(0,s.jsx)(n.TableHeader,{children:(0,s.jsxs)(n.TableRow,{children:[(0,s.jsx)(n.TableHead,{children:"Fecha"}),(0,s.jsx)(n.TableHead,{children:"Motivo"}),(0,s.jsx)(n.TableHead,{children:"Diagnóstico"}),(0,s.jsx)(n.TableHead,{children:"Tratamiento"}),(0,s.jsx)(n.TableHead,{children:"Veterinario"}),(0,s.jsx)(n.TableHead,{children:"Peso"}),(0,s.jsx)(n.TableHead,{children:"Temp."})]})}),(0,s.jsx)(n.TableBody,{children:0===u.length?(0,s.jsx)(n.TableRow,{children:(0,s.jsx)(n.TableCell,{colSpan:7,className:"text-center text-muted-foreground py-8",children:"No hay consultas registradas para este paciente"})}):u.map(e=>(0,s.jsxs)(n.TableRow,{children:[(0,s.jsx)(n.TableCell,{children:new Date(e.consultation_date).toLocaleDateString("es-MX",{year:"numeric",month:"short",day:"numeric"})}),(0,s.jsx)(n.TableCell,{children:e.reason}),(0,s.jsx)(n.TableCell,{children:e.diagnosis||"-"}),(0,s.jsx)(n.TableCell,{children:e.treatment||"-"}),(0,s.jsx)(n.TableCell,{children:e.veterinarian||"-"}),(0,s.jsx)(n.TableCell,{children:e.weight?`${e.weight} kg`:"-"}),(0,s.jsx)(n.TableCell,{children:e.temperature?`${e.temperature}\xb0C`:"-"})]},e.id))})]})})]})]}):(0,s.jsxs)("div",{className:"p-8",children:[(0,s.jsx)("p",{children:"Paciente no encontrado"}),(0,s.jsx)(t.Button,{onClick:()=>o.back(),className:"mt-4",children:"Volver"})]})}e.s(["default",()=>o])}]);