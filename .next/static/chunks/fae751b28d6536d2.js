(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,43531,e=>{"use strict";var t=e.i(78745);e.s(["Check",()=>t.default])},27612,e=>{"use strict";let t=(0,e.i(75254).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);e.s(["Trash2",()=>t],27612)},45740,63209,52571,e=>{"use strict";var t=e.i(43476);function s({size:e="md",text:s=""}){return(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center gap-3",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:`${{sm:"w-4 h-4 border-2",md:"w-8 h-8 border-3",lg:"w-12 h-12 border-4",xl:"w-16 h-16 border-4"}[e]} rounded-full border-primary border-t-transparent animate-spin`}),(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center text-primary",children:"ðŸ¾"})]}),s&&(0,t.jsx)("p",{className:`${{sm:"text-sm",md:"text-base",lg:"text-lg",xl:"text-xl"}[e]} text-muted-foreground font-medium`,children:s})]})}function r({text:e="Cargando..."}){return(0,t.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,t.jsx)(s,{size:"lg",text:e})})}e.s(["LoadingPage",()=>r],45740);var a=e.i(75254);let l=(0,a.default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>l],63209);let i=(0,a.default)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);e.s(["Info",()=>i],52571)},78894,e=>{"use strict";let t=(0,e.i(75254).default)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);e.s(["AlertTriangle",()=>t],78894)},974,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(37727),a=e.i(69638),l=e.i(63209),i=e.i(52571),n=e.i(78894);function o({type:e="info",message:o,onClose:c,duration:d=5e3}){let[m,x]=(0,s.useState)(!0),[u,h]=(0,s.useState)(!1);(0,s.useEffect)(()=>{if(d>0){let e=setTimeout(()=>{p()},d);return()=>clearTimeout(e)}},[d]);let p=()=>{h(!0),setTimeout(()=>{x(!1),c?.()},300)};if(!m)return null;let{icon:f,bgColor:j,borderColor:y,textColor:g,iconColor:b}={success:{icon:a.CheckCircle,bgColor:"bg-green-50 dark:bg-green-950",borderColor:"border-green-200 dark:border-green-800",textColor:"text-green-800 dark:text-green-200",iconColor:"text-green-600 dark:text-green-400"},error:{icon:l.AlertCircle,bgColor:"bg-red-50 dark:bg-red-950",borderColor:"border-red-200 dark:border-red-800",textColor:"text-red-800 dark:text-red-200",iconColor:"text-red-600 dark:text-red-400"},warning:{icon:n.AlertTriangle,bgColor:"bg-yellow-50 dark:bg-yellow-950",borderColor:"border-yellow-200 dark:border-yellow-800",textColor:"text-yellow-800 dark:text-yellow-200",iconColor:"text-yellow-600 dark:text-yellow-400"},info:{icon:i.Info,bgColor:"bg-blue-50 dark:bg-blue-950",borderColor:"border-blue-200 dark:border-blue-800",textColor:"text-blue-800 dark:text-blue-200",iconColor:"text-blue-600 dark:text-blue-400"}}[e];return(0,t.jsx)("div",{className:`fixed top-4 right-4 z-50 max-w-md w-full transition-all duration-300 ${u?"animate-fade-out-right":"animate-fade-in-right"}`,children:(0,t.jsxs)("div",{className:`${j} ${y} ${g} border-l-4 p-4 rounded-lg shadow-lg flex items-start gap-3`,children:[(0,t.jsx)(f,{className:`${b} w-5 h-5 mt-0.5 flex-shrink-0`}),(0,t.jsx)("p",{className:"flex-1 text-sm font-medium leading-relaxed",children:o}),(0,t.jsx)("button",{onClick:p,className:`${g} hover:opacity-70 transition-opacity flex-shrink-0`,children:(0,t.jsx)(r.X,{className:"w-4 h-4"})})]})})}function c(){let[e,r]=(0,s.useState)([]),a=(e,t,s=5e3)=>{let a=Date.now();r(r=>[...r,{id:a,type:e,message:t,duration:s}])};return{showSuccess:(e,t)=>a("success",e,t),showError:(e,t)=>a("error",e,t),showWarning:(e,t)=>a("warning",e,t),showInfo:(e,t)=>a("info",e,t),AlertContainer:()=>(0,t.jsx)(t.Fragment,{children:e.map((e,s)=>(0,t.jsx)("div",{style:{top:`${4+5.5*s}rem`},children:(0,t.jsx)(o,{type:e.type,message:e.message,duration:e.duration,onClose:()=>{var t;return t=e.id,void r(e=>e.filter(e=>e.id!==t))}})},e.id))})}}e.s(["useAlertToast",()=>c])},70065,e=>{"use strict";var t=e.i(43476),s=e.i(47163);function r({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,s.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...r})}function a({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,s.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...r})}function l({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,s.cn)("leading-none font-semibold",e),...r})}function i({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,s.cn)("text-muted-foreground text-sm",e),...r})}function n({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,s.cn)("px-6",e),...r})}function o({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card-footer",className:(0,s.cn)("flex items-center px-6 [.border-t]:pt-6",e),...r})}e.s(["Card",()=>r,"CardContent",()=>n,"CardDescription",()=>i,"CardFooter",()=>o,"CardHeader",()=>a,"CardTitle",()=>l])},10708,e=>{"use strict";var t=e.i(43476),s=e.i(71645);function r(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}e.i(74080);var a=Symbol.for("react.lazy"),l=s[" use ".trim().toString()];function i(e){var t;return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===a&&"_payload"in e&&"object"==typeof(t=e._payload)&&null!==t&&"then"in t}var n=Symbol("radix.slottable");function o(e){return s.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===n}var c=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,a)=>{var n,c;let d,m,x,u=(c=n=`Primitive.${a}`,(d=s.forwardRef((e,t)=>{let{children:a,...n}=e;if(i(a)&&"function"==typeof l&&(a=l(a._payload)),s.isValidElement(a)){var o;let e,l,i=(o=a,(l=(e=Object.getOwnPropertyDescriptor(o.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?o.ref:(l=(e=Object.getOwnPropertyDescriptor(o,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?o.props.ref:o.props.ref||o.ref),c=function(e,t){let s={...t};for(let r in t){let a=e[r],l=t[r];/^on[A-Z]/.test(r)?a&&l?s[r]=(...e)=>{let t=l(...e);return a(...e),t}:a&&(s[r]=a):"style"===r?s[r]={...a,...l}:"className"===r&&(s[r]=[a,l].filter(Boolean).join(" "))}return{...e,...s}}(n,a.props);return a.type!==s.Fragment&&(c.ref=t?function(...e){return t=>{let s=!1,a=e.map(e=>{let a=r(e,t);return s||"function"!=typeof a||(s=!0),a});if(s)return()=>{for(let t=0;t<a.length;t++){let s=a[t];"function"==typeof s?s():r(e[t],null)}}}}(t,i):i),s.cloneElement(a,c)}return s.Children.count(a)>1?s.Children.only(null):null})).displayName=`${c}.SlotClone`,m=d,(x=s.forwardRef((e,r)=>{let{children:a,...n}=e;i(a)&&"function"==typeof l&&(a=l(a._payload));let c=s.Children.toArray(a),d=c.find(o);if(d){let e=d.props.children,a=c.map(t=>t!==d?t:s.Children.count(e)>1?s.Children.only(null):s.isValidElement(e)?e.props.children:null);return(0,t.jsx)(m,{...n,ref:r,children:s.isValidElement(e)?s.cloneElement(e,void 0,a):null})}return(0,t.jsx)(m,{...n,ref:r,children:a})})).displayName=`${n}.Slot`,x),h=s.forwardRef((e,s)=>{let{asChild:r,...l}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(r?u:a,{...l,ref:s})});return h.displayName=`Primitive.${a}`,{...e,[a]:h}},{}),d=s.forwardRef((e,s)=>(0,t.jsx)(c.label,{...e,ref:s,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));d.displayName="Label";var m=e.i(25913),x=e.i(47163);let u=(0,m.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),h=s.forwardRef(({className:e,...s},r)=>(0,t.jsx)(d,{ref:r,className:(0,x.cn)(u(),e),...s}));h.displayName=d.displayName,e.s(["Label",()=>h],10708)},69638,e=>{"use strict";let t=(0,e.i(75254).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>t],69638)},7233,e=>{"use strict";let t=(0,e.i(75254).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],7233)},8039,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(67881),a=e.i(23750),l=e.i(10708),i=e.i(70065),n=e.i(62870),o=e.i(27612),c=e.i(7233),d=e.i(1928);let m=(0,e.i(75254).default)("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);var x=e.i(88844),u=e.i(26739),h=e.i(45740),p=e.i(974),f=e.i(22016);function j(){let{user:e,selectedClinic:j,getUserId:y,getClinicId:g}=(0,u.useAuth)(),{showSuccess:b,showError:v,showWarning:N,showInfo:w,AlertContainer:C}=(0,p.useAlertToast)(),[k,S]=(0,s.useState)([]),[$,T]=(0,s.useState)([]),[P,A]=(0,s.useState)(""),[E,M]=(0,s.useState)(""),[I,F]=(0,s.useState)("Efectivo"),[V,q]=(0,s.useState)(0),[L,_]=(0,s.useState)(!1),[B,R]=(0,s.useState)(!1),[D,z]=(0,s.useState)(null);(0,s.useEffect)(()=>{let e=y(),t=g();e&&t&&O()},[y,g]);let O=async()=>{try{_(!0);let e=y(),t=g(),s=await fetch(`/api/inventory?userId=${e}&clinicId=${t}`),r=await s.json();r.success?S(r.data.filter(e=>e.stock>0)):v(r.error||"Error al cargar inventario")}catch(e){console.error("Error al cargar inventario:",e),v("Error al cargar el inventario")}finally{_(!1)}},W=k.filter(e=>e.name.toLowerCase().includes(P.toLowerCase())||e.category.toLowerCase().includes(P.toLowerCase())),H=e=>{T($.filter(t=>t.id!==e)),w("Producto eliminado del carrito")},J=()=>$.reduce((e,t)=>e+t.price*t.quantity,0),K=()=>J()+.16*J()-V,U=async()=>{if(0===$.length)return void N("El carrito estÃ¡ vacÃ­o");_(!0);try{let t=y(),s=g(),r={items:$.map(e=>({id:e.id,name:e.name,price:e.price,quantity:e.quantity})),subtotal:J(),tax:.16*J(),discount:V,total:K(),paymentMethod:I,cashier:e?`${e.name||""} ${e.lastName||""}`.trim():"Cajero",customer:E||"Cliente general",userId:t,clinicId:s},a=await fetch("/api/sales",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),l=a.headers.get("content-type");if(!l||!l.includes("application/json"))throw Error("La respuesta del servidor no es JSON vÃ¡lido");let i=await a.json();i.success?(z(i.data),R(!0),T([]),M(""),q(0),O(),b("Venta procesada exitosamente")):v(i.error||"Error al procesar la venta")}catch(e){console.error("[v0] Error al procesar venta:",e),v(`Error al procesar la venta: ${e.message}`)}finally{_(!1)}},X=y(),Z=g();return L?(0,t.jsx)(h.LoadingPage,{message:"Cargando punto de venta..."}):X&&Z?0!==k.length||L?B&&D?(0,t.jsxs)("div",{className:"container-custom py-8",children:[(0,t.jsx)(C,{}),(0,t.jsxs)(i.Card,{className:"max-w-2xl mx-auto p-8",children:[(0,t.jsxs)("div",{className:"text-center mb-6",children:[(0,t.jsx)(m,{className:"w-16 h-16 mx-auto mb-4 text-primary"}),(0,t.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Venta Completada"}),(0,t.jsxs)("p",{className:"text-muted-foreground",children:["Ticket #",D.id]})]}),(0,t.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Fecha:"}),(0,t.jsx)("span",{children:new Date(D.sale_date||D.date).toLocaleString("es-MX")})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Cajero:"}),(0,t.jsx)("span",{children:D.cashier})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Cliente:"}),(0,t.jsx)("span",{children:D.customer_name||D.customer})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"MÃ©todo de pago:"}),(0,t.jsx)("span",{children:D.payment_method||D.paymentMethod})]})]}),(0,t.jsxs)("div",{className:"border-t border-b py-4 mb-6",children:[(0,t.jsx)("h3",{className:"font-semibold mb-3",children:"ArtÃ­culos"}),D.items&&Array.isArray(D.items)&&D.items.length>0?D.items.map((e,s)=>(0,t.jsxs)("div",{className:"flex justify-between text-sm mb-2",children:[(0,t.jsxs)("span",{children:[e.name," x",e.quantity]}),(0,t.jsxs)("span",{children:["$",(e.price*e.quantity).toFixed(2)]})]},s)):(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"No hay artÃ­culos para mostrar"})]}),(0,t.jsxs)("div",{className:"space-y-2 mb-6",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{children:"Subtotal:"}),(0,t.jsxs)("span",{children:["$",D.subtotal.toFixed(2)]})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{children:"IVA (16%):"}),(0,t.jsxs)("span",{children:["$",D.tax.toFixed(2)]})]}),D.discount>0&&(0,t.jsxs)("div",{className:"flex justify-between text-sm text-accent",children:[(0,t.jsx)("span",{children:"Descuento:"}),(0,t.jsxs)("span",{children:["-$",D.discount.toFixed(2)]})]}),(0,t.jsxs)("div",{className:"flex justify-between text-lg font-bold pt-2 border-t",children:[(0,t.jsx)("span",{children:"Total:"}),(0,t.jsxs)("span",{children:["$",D.total.toFixed(2)]})]})]}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)(r.Button,{onClick:()=>{window.print()},variant:"outline",className:"flex-1 bg-transparent",children:"Imprimir Ticket"}),(0,t.jsx)(r.Button,{onClick:()=>{R(!1),z(null)},className:"flex-1 btn-primary",children:"Nueva Venta"})]})]})]}):(0,t.jsxs)("div",{className:"container-custom py-8",children:[(0,t.jsx)(C,{}),(0,t.jsx)("div",{className:"flex justify-between items-center mb-8",children:(0,t.jsx)("h1",{className:"text-4xl font-bold",children:"Punto de Venta"})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsx)("div",{className:"lg:col-span-2",children:(0,t.jsxs)(i.Card,{className:"p-6",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)(l.Label,{htmlFor:"search",children:"Buscar productos"}),(0,t.jsx)(a.Input,{id:"search",placeholder:"Buscar por nombre o categorÃ­a...",value:P,onChange:e=>A(e.target.value),className:"mt-2"})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 max-h-[600px] overflow-y-auto",children:W.map(e=>(0,t.jsxs)(i.Card,{className:"p-4 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>{let t;(t=$.find(t=>t.id===e.id))?t.quantity<e.stock?(T($.map(t=>t.id===e.id?{...t,quantity:t.quantity+1}:t)),w(`${e.name} agregado al carrito`)):N("No hay suficiente stock disponible"):(T([...$,{...e,quantity:1}]),w(`${e.name} agregado al carrito`))},children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold",children:e.name}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:e.category})]}),(0,t.jsxs)("span",{className:"text-lg font-bold text-primary",children:["$",e.price]})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,t.jsxs)("span",{className:`${e.stock<e.minStock?"text-destructive":"text-muted-foreground"}`,children:["Stock: ",e.stock]}),(0,t.jsx)(r.Button,{size:"sm",className:"btn-primary",children:(0,t.jsx)(c.Plus,{className:"w-4 h-4"})})]})]},e.id))})]})}),(0,t.jsx)("div",{children:(0,t.jsxs)(i.Card,{className:"p-6 sticky top-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-6",children:[(0,t.jsx)(d.ShoppingCart,{className:"w-6 h-6 text-primary"}),(0,t.jsx)("h2",{className:"text-2xl font-bold",children:"Carrito"})]}),(0,t.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(l.Label,{htmlFor:"customer",children:"Cliente"}),(0,t.jsx)(a.Input,{id:"customer",placeholder:"Nombre del cliente (opcional)",value:E,onChange:e=>M(e.target.value),className:"mt-2"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(l.Label,{htmlFor:"paymentMethod",children:"MÃ©todo de pago"}),(0,t.jsxs)(n.Select,{value:I,onValueChange:F,children:[(0,t.jsx)(n.SelectTrigger,{className:"mt-2",children:(0,t.jsx)(n.SelectValue,{})}),(0,t.jsxs)(n.SelectContent,{children:[(0,t.jsx)(n.SelectItem,{value:"Efectivo",children:"Efectivo"}),(0,t.jsx)(n.SelectItem,{value:"Tarjeta",children:"Tarjeta"}),(0,t.jsx)(n.SelectItem,{value:"Transferencia",children:"Transferencia"})]})]})]})]}),(0,t.jsx)("div",{className:"border-t pt-4 mb-4 max-h-[300px] overflow-y-auto",children:0===$.length?(0,t.jsx)("p",{className:"text-center text-muted-foreground py-8",children:"El carrito estÃ¡ vacÃ­o"}):$.map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-3 pb-3 border-b",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"font-medium text-sm",children:e.name}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:["$",e.price," c/u"]})]}),(0,t.jsx)(a.Input,{type:"number",min:"1",max:e.stock,value:e.quantity,onChange:t=>{var s,r;return s=e.id,void((r=Number.parseInt(t.target.value)||0)>k.find(e=>e.id===s).stock?N("No hay suficiente stock disponible"):r<=0?H(s):T($.map(e=>e.id===s?{...e,quantity:r}:e)))},className:"w-16 text-center"}),(0,t.jsxs)("span",{className:"font-semibold w-20 text-right",children:["$",(e.price*e.quantity).toFixed(2)]}),(0,t.jsx)(r.Button,{size:"sm",variant:"ghost",onClick:()=>H(e.id),children:(0,t.jsx)(o.Trash2,{className:"w-4 h-4 text-destructive"})})]},e.id))}),(0,t.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{children:"Subtotal:"}),(0,t.jsxs)("span",{children:["$",J().toFixed(2)]})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{children:"IVA (16%):"}),(0,t.jsxs)("span",{children:["$",(.16*J()).toFixed(2)]})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,t.jsx)(l.Label,{htmlFor:"discount",children:"Descuento:"}),(0,t.jsx)(a.Input,{id:"discount",type:"number",min:"0",max:J(),value:V,onChange:e=>q(Number.parseFloat(e.target.value)||0),className:"w-24 text-right"})]}),(0,t.jsxs)("div",{className:"flex justify-between text-xl font-bold pt-2 border-t",children:[(0,t.jsx)("span",{children:"Total:"}),(0,t.jsxs)("span",{className:"text-primary",children:["$",K().toFixed(2)]})]})]}),(0,t.jsx)(r.Button,{onClick:U,disabled:0===$.length||L,className:"w-full btn-primary",children:L?"Procesando...":"Procesar Venta"})]})})]})]}):(0,t.jsxs)("div",{className:"container-custom py-8",children:[(0,t.jsx)(C,{}),(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-[60vh] text-center",children:[(0,t.jsx)(x.Package,{className:"w-24 h-24 text-muted-foreground mb-6"}),(0,t.jsx)("h2",{className:"text-3xl font-bold mb-4",children:"No hay productos en inventario"}),(0,t.jsx)("p",{className:"text-lg text-muted-foreground mb-8 max-w-md",children:"Para empezar a vender, necesitas agregar productos a tu inventario primero."}),(0,t.jsx)(f.default,{href:"/inventario",children:(0,t.jsxs)(r.Button,{className:"btn-primary",children:[(0,t.jsx)(c.Plus,{className:"w-5 h-5 mr-2"}),"Agregar Primer Producto"]})})]})]}):(0,t.jsx)("div",{className:"container-custom py-8",children:"Por favor selecciona un consultorio"})}e.s(["default",()=>j],8039)}]);