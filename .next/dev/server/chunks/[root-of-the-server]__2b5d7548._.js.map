{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 82, "column": 0}, "map": {"version":3,"sources":["file:///C:/Proyectos/Veterinarios/myvetadmin/lib/stripe.js"],"sourcesContent":["import \"server-only\"\r\nimport Stripe from \"stripe\"\r\n\r\nif (!process.env.STRIPE_SECRET_KEY) {\r\n  throw new Error(\"STRIPE_SECRET_KEY is not set\")\r\n}\r\n\r\nexport const stripe = new Stripe(process.env.STRIPE_SECRET_KEY, {\r\n  apiVersion: \"2024-11-20.acacia\",\r\n})\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEA,IAAI,CAAC,QAAQ,GAAG,CAAC,iBAAiB,EAAE;IAClC,MAAM,IAAI,MAAM;AAClB;AAEO,MAAM,SAAS,IAAI,mKAAM,CAAC,QAAQ,GAAG,CAAC,iBAAiB,EAAE;IAC9D,YAAY;AACd","debugId":null}},
    {"offset": {"line": 100, "column": 0}, "map": {"version":3,"sources":["file:///C:/Proyectos/Veterinarios/myvetadmin/app/api/stripe/check-payment/route.js"],"sourcesContent":["import { NextResponse } from \"next/server\"\r\nimport { stripe } from \"@/lib/stripe\"\r\n\r\nexport async function POST(request) {\r\n  try {\r\n    const { sessionId } = await request.json()\r\n\r\n    console.log(\"[v0] Checking payment status for session:\", sessionId)\r\n\r\n    // Retrieve the checkout session\r\n    const session = await stripe.checkout.sessions.retrieve(sessionId)\r\n\r\n    console.log(\"[v0] Session status:\", session.status)\r\n    console.log(\"[v0] Payment status:\", session.payment_status)\r\n\r\n    return NextResponse.json({\r\n      status: session.status,\r\n      payment_status: session.payment_status,\r\n      customer_email: session.customer_email,\r\n    })\r\n  } catch (error) {\r\n    console.error(\"[v0] Error checking payment status:\", error)\r\n    return NextResponse.json({ error: error.message }, { status: 500 })\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,eAAe,KAAK,OAAO;IAChC,IAAI;QACF,MAAM,EAAE,SAAS,EAAE,GAAG,MAAM,QAAQ,IAAI;QAExC,QAAQ,GAAG,CAAC,6CAA6C;QAEzD,gCAAgC;QAChC,MAAM,UAAU,MAAM,yHAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,QAAQ,CAAC;QAExD,QAAQ,GAAG,CAAC,wBAAwB,QAAQ,MAAM;QAClD,QAAQ,GAAG,CAAC,wBAAwB,QAAQ,cAAc;QAE1D,OAAO,gJAAY,CAAC,IAAI,CAAC;YACvB,QAAQ,QAAQ,MAAM;YACtB,gBAAgB,QAAQ,cAAc;YACtC,gBAAgB,QAAQ,cAAc;QACxC;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,uCAAuC;QACrD,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO,MAAM,OAAO;QAAC,GAAG;YAAE,QAAQ;QAAI;IACnE;AACF","debugId":null}}]
}